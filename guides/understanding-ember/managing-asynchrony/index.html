

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Ember.js - Understanding Ember.js: Managing Asynchrony</title>
    <link rel="shortcut icon" href="/emberjs/images/favicon.png" />
    <!--[if lte IE 7 ]><link href="/emberjs/stylesheets/fonts/fontello-ie7.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="/emberjs/stylesheets/site.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/emberjs/stylesheets/highlight.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="http://emberjs.com/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-45832618-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

<!--[if lt IE 9]>
    <script type="text/javascript" src="/emberjs/javascripts/common-old-ie.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
    <script type="text/javascript" src="/emberjs/javascripts/common-modern.js"></script>
<!--<![endif]-->

    
    <script type="text/javascript" src="/emberjs/javascripts/guides.js"></script>
    <script src="http://static.jsbin.com/js/embed.js"></script>
  
  </head>

  <body class="guides guides_understanding-ember guides_understanding-ember_managing-asynchrony guides_understanding-ember_managing-asynchrony_index">
    <div id="header">
      <div id="wrapper">
        <a id="logo" href="/emberjs/">&nbsp;</a>
        <ul id="nav">
          <li><a href="/emberjs/about">about</a></li>
          <li class="active"><a href="/emberjs/guides">문서</a></li>
          <li><a href="/emberjs/api">api</a></li>
          <li><a href="/emberjs/community">community</a></li>
          <li><a href="/emberjs/blog">blog</a></li>
          <li><a href="/emberjs/builds">builds</a></li>
          <li id="search">
            <form>
              <input type="text" id="st-search-input" class="st-search-input" />
            </form>
            <div id="st-results-container"></div>
          </li>
        </ul>

        <div id="github">
          <a href="https://github.com/emberjs/ember.js"><i class="icon-fork"></i>Fork Us!</a>
        </div>
      </div>
    </div>

    <div id="content-wrapper">
      
      
        <div id="sidebar">
          
    <ol id="toc-list">
          <li class="level-1">
            <a href="/emberjs/guides/getting-started">시작하기</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/getting-started">시작하기</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/planning-the-application">어플리케이션 구상</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/creating-a-static-mockup">Creating a Static Mockup</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/obtaining-emberjs-and-dependencies">Obtaining Ember.js and Dependencies</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/adding-a-route-and-template">Adding the First Route and Template</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/modeling-data">Modeling Data</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/using-fixtures">Using Fixtures</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/displaying-model-data">Displaying Model Data</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/displaying-a-models-completeness">Displaying a Model's Complete State</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/creating-a-new-model">Creating a New Model Instance</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/marking-a-model-as-complete-incomplete">Marking a Model as Complete or Incomplete</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/displaying-the-number-of-incomplete-todos">Displaying the Number of Incomplete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/toggle-todo-editing-state">Toggling between Showing and Editing States</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/accepting-edits">Accepting Edits</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/deleting-todos">Deleting a Model</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/adding-child-routes">Adding Child Routes</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/show-only-incomplete-todos">Transitioning to Show Only Incomplete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/show-only-complete-todos">Transitioning to Show Only Complete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/show-all-todos-again">Transitioning back to Show All Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/display-a-button-to-remove-completed-todos">Displaying a Button to Remove All Completed Todos</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/show-when-all-todos-are-complete">Indicating When All Todos Are Complete</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/toggle-all-todos">Toggling All Todos Between Complete and Incomplete</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/getting-started/using-other-adapters">Replacing the Fixture Adapter with Another Adapter</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/getting-ember">Getting Ember</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/getting-ember">Getting Ember</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/concepts/core-concepts">Concepts</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/concepts/core-concepts">Core Concepts</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/concepts/naming-conventions">Naming Conventions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/object-model/classes-and-instances">The Object Model</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/object-model/classes-and-instances">Classes and Instances</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/object-model/computed-properties">Computed Properties</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/object-model/computed-properties-and-aggregate-data">Computed Properties and Aggregate Data with @each</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/object-model/observers">Observers</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/object-model/bindings">Bindings</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/object-model/reopening-classes-and-instances">Reopening Classes and Instances</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/object-model/what-do-i-use-when">Bindings, Observers, Computed Properties: What Do I Use When?</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/application">Application</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/application">Introduction</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/templates/the-application-template">Templates</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/templates/the-application-template">The Application Template</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/handlebars-basics">Handlebars Basics</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/conditionals">Conditionals</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/displaying-a-list-of-items">Displaying a List of Items</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/changing-scope">Changing Scope</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/binding-element-attributes">Binding Element Attributes</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/binding-element-class-names">Binding Element Class Names</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/links">Links</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/actions">Actions</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/input-helpers">Input Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/rendering-with-helpers">Rendering with Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/templates/writing-helpers">Writing Helpers</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/routing">Routing</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/routing">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/defining-your-routes">Defining Your Routes</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/generated-objects">Generated Objects</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/specifying-a-routes-model">Specifying a Route's Model</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/setting-up-a-controller">Setting Up a Controller</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/rendering-a-template">Rendering a Template</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/redirection">Redirecting</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/specifying-the-location-api">Specifying the URL Type</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/query-params">Query Parameters</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/asynchronous-routing">Asynchronous Routing</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/loading-and-error-substates">Loading / Error Substates</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/routing/preventing-and-retrying-transitions">Preventing and Retrying Transitions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/components">Components</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/components">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/components/defining-a-component">Defining a Component</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/components/passing-properties-to-a-component">Passing Properties to a Component</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/components/wrapping-content-in-a-component">Wrapping Content in a Component</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/components/customizing-a-components-element">Customizing a Component's Element</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/components/handling-user-interaction-with-actions">Handling User Interaction with Actions</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/components/sending-actions-from-components-to-your-application">Sending Actions from Components to Your Application</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/controllers">Controllers</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/controllers">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/controllers/representing-a-single-model-with-objectcontroller">Representing a Single Model with ObjectController</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/controllers/representing-multiple-models-with-arraycontroller">Representing Multiple Models with ArrayController</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/controllers/dependencies-between-controllers">Managing Dependencies Between Controllers</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/models">Models</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/models">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/defining-models">Defining Models</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/creating-and-deleting-records">Creating and Deleting Records</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/pushing-records-into-the-store">Pushing Records into the Store</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/persisting-records">Persisting Records</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/finding-records">Finding Records</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/working-with-records">Working with Records</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/connecting-to-an-http-server">Connecting to an HTTP Server</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/handling-metadata">Handling Metadata</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/models/frequently-asked-questions">Frequently Asked Questions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/views">Views</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/views">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/views/defining-a-view">Defining a View</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/views/handling-events">Handling Events</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/views/inserting-views-in-templates">Inserting Views in Templates</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/views/adding-layouts-to-views">Adding Layouts to Views</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/views/customizing-a-views-element">Customizing a View's Element</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/views/built-in-views">Built-in Views</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/views/manually-managing-view-hierarchy">Manually Managing View Hierarchy</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/enumerables">Enumerables</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/enumerables">Introduction</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/testing/integration">Testing</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/testing/integration">Integration Testing</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/configuring-ember/disabling-prototype-extensions">Configuring Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/configuring-ember/disabling-prototype-extensions">Disabling Prototype Extensions</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/configuring-ember/embedding-applications">Embedding Applications</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/configuring-ember/feature-flags">Feature Flags</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/cookbook">Cookbook</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/cookbook">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/cookbook/contributing">Contributing</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/cookbook/user_interface_and_interaction">User Interface and Interaction</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/cookbook/event_handling_and_data_binding">Event Handling & Data Binding</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/cookbook/helpers_and_components">Helpers & Components</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/cookbook/working_with_objects">Working with Objects</a>
            </li>
          </ol></li>
          <li class="level-1 selected">
            <a href="/emberjs/guides/understanding-ember/the-view-layer">Understanding Ember.js</a>
            <ol class='selected'>
        
            <li class="level-3">
              <a href="/emberjs/guides/understanding-ember/the-view-layer">The View Layer</a>
            </li>
          
            <li class="level-3 sub-selected">
              <a href="/emberjs/guides/understanding-ember/managing-asynchrony">Managing Asynchrony</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/understanding-ember/keeping-templates-up-to-date">Keeping Templates Up-to-Date</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/understanding-ember/debugging">Debugging</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/emberjs/guides/contributing/adding-new-features">Contributing to Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="/emberjs/guides/contributing/adding-new-features">Adding New Features</a>
            </li>
          
            <li class="level-3">
              <a href="/emberjs/guides/contributing/repositories">Repositories</a>
            </li>
          </ol></li></ol>
  
          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      
      <div id="content" class="has-sidebar">
          
  

  
  <div class="chapter">
    
        <h1>Managing Asynchrony
          <a href="https://github.com/emberjs/website/tree/master/source/guides/understanding-ember/managing-asynchrony.md" target="_blank" class="edit-page icon-pencil">Edit Page</a>
        </h1>
      
    <hr>
    <p>Many Ember concepts, like bindings and computed properties, are designed
to help manage asynchronous behavior.</p>
<h3 class='anchorable-toc' id='toc_without-ember'>Without Ember</h3>
<p>We&#39;ll start by taking a look at ways to manage asynchronous behavior
using jQuery or event-based MVC frameworks.</p>

<p>Let&#39;s use the most common asynchronous behavior in a web application,
making an Ajax request, as an example. The browser APIs for making Ajax
requests provide an asynchronous API. jQuery&#39;s wrapper does as well:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>jQuery.getJSON(<span class="string"><span class="delimiter">'</span><span class="content">/posts/1</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(post) {
  <span class="predefined">$</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#post</span><span class="delimiter">&quot;</span></span>).html(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;h1&gt;</span><span class="delimiter">&quot;</span></span> + post.title + <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;/h1&gt;</span><span class="delimiter">&quot;</span></span> +
    <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;div&gt;</span><span class="delimiter">&quot;</span></span> + post.body + <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;/div&gt;</span><span class="delimiter">&quot;</span></span>);
});
</pre></td>
</tr></table>
</div></div>
<p>In a raw jQuery application, you would use this callback to make
whatever changes you needed to make to the DOM.</p>

<p>When using an event-based MVC framework, you move the logic out of the
callback and into model and view objects. This improves things, but
doesn&#39;t get rid of the need to explicitly deal with asynchronous
callbacks:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
26
27
28
29
<strong>30</strong>
31
32
33
</pre></td>
  <td class="code"><pre>Post = Model.extend({
  <span class="function">author</span>: <span class="keyword">function</span>() {
    <span class="keyword">return</span> [<span class="local-variable">this</span>.salutation, <span class="local-variable">this</span>.name].join(<span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>)
  },

  <span class="function">toJSON</span>: <span class="keyword">function</span>() {
    <span class="keyword">var</span> json = Model.prototype.toJSON.call(<span class="local-variable">this</span>);
    json.author = <span class="local-variable">this</span>.author();
    <span class="keyword">return</span> json;
  }
});

PostView = View.extend({
  <span class="function">init</span>: <span class="keyword">function</span>(model) {
    model.bind(<span class="string"><span class="delimiter">'</span><span class="content">change</span><span class="delimiter">'</span></span>, <span class="local-variable">this</span>.render, <span class="local-variable">this</span>);
  },

  <span class="key">template</span>: _.template(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;h1&gt;&lt;%= title %&gt;&lt;/h1&gt;&lt;h2&gt;&lt;%= author %&gt;&lt;/h2&gt;&lt;div&gt;&lt;%= body %&gt;&lt;/div&gt;</span><span class="delimiter">&quot;</span></span>),

  <span class="function">render</span>: <span class="keyword">function</span>() {
    jQuery(<span class="local-variable">this</span>.element).html(<span class="local-variable">this</span>.template(<span class="local-variable">this</span>.model.toJSON());
    <span class="keyword">return</span> <span class="local-variable">this</span>;
  }
});

<span class="keyword">var</span> post = Post.create();
<span class="keyword">var</span> postView = PostView.create({ <span class="key">model</span>: post });
jQuery(<span class="string"><span class="delimiter">'</span><span class="content">#posts</span><span class="delimiter">'</span></span>).append(postView.render().el);

jQuery.getJSON(<span class="string"><span class="delimiter">'</span><span class="content">/posts/1</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>(json) {
  <span class="comment">// set all of the JSON properties on the model</span>
  post.set(json);
});
</pre></td>
</tr></table>
</div></div>
<p>This example doesn&#39;t use any particular JavaScript library beyond
jQuery, but its approach is typical of event-driven MVC frameworks. It
helps organize the asynchronous events, but asynchronous behavior is
still the core programming model.</p>
<h3 class='anchorable-toc' id='toc_ember-s-approach'>Ember&#39;s Approach</h3>
<p>In general, Ember&#39;s goal is to eliminate explicit forms of asynchronous
behavior. As we&#39;ll see later, this gives Ember the ability to coalesce
multiple events that have the same result.</p>

<p>It also provides a higher level of abstraction, eliminating the need to
manually register and unregister event listeners to perform most common
tasks.</p>

<p>You would normally use ember-data for this example, but let&#39;s see how
you would model the above example using jQuery for Ajax in Ember.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
</pre></td>
  <td class="code"><pre>App.Post = Ember.Object.extend({

});

App.PostController = Ember.ObjectController.extend({
  <span class="function">author</span>: <span class="keyword">function</span>() {
    <span class="keyword">return</span> [<span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">salutation</span><span class="delimiter">'</span></span>), <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>)].join(<span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>);
  }.property(<span class="string"><span class="delimiter">'</span><span class="content">salutation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>)
});

App.PostView = Ember.View.extend({
  <span class="comment">// the controller is the initial context for the template</span>
  <span class="key">controller</span>: <span class="predefined-constant">null</span>,
  <span class="key">template</span>: Ember.Handlebars.compile(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;h1&gt;{{title}}&lt;/h1&gt;&lt;h2&gt;{{author}}&lt;/h2&gt;&lt;div&gt;{{body}}&lt;/div&gt;</span><span class="delimiter">&quot;</span></span>)
});

<span class="keyword">var</span> post = App.Post.create();
<span class="keyword">var</span> postController = App.PostController.create({ <span class="key">model</span>: post });

App.PostView.create({ <span class="key">controller</span>: postController }).appendTo(<span class="string"><span class="delimiter">'</span><span class="content">body</span><span class="delimiter">'</span></span>);

jQuery.getJSON(<span class="string"><span class="delimiter">&quot;</span><span class="content">/posts/1</span><span class="delimiter">&quot;</span></span>, <span class="keyword">function</span>(json) {
  post.setProperties(json);
});
</pre></td>
</tr></table>
</div></div>
<p>In contrast to the above examples, the Ember approach eliminates the
need to explicitly register an observer when the <code>post</code>&#39;s properties
change.</p>

<p>The <code>{{title}}</code>, <code>{{author}}</code> and <code>{{body}}</code> template elements are bound
to those properties on the <code>PostController</code>. When the <code>PostController</code>&#39;s
model changes, it automatically propagates those changes to the DOM.</p>

<p>Using a computed property for <code>author</code> eliminated the need to explicitly
invoke the computation in a callback when the underlying property
changed.</p>

<p>Instead, Ember&#39;s binding system automatically follows the trail from the
<code>salutation</code> and <code>name</code> set in the <code>getJSON</code> callback to the computed
property in the <code>PostController</code> and all the way into the DOM.</p>
<h3 class='anchorable-toc' id='toc_benefits'>Benefits</h3>
<p>Because Ember is usually responsible for propagating changes, it can
guarantee that a single change is only propagated one time in response
to each user event.</p>

<p>Let&#39;s take another look at the <code>author</code> computed property.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>App.PostController = Ember.ObjectController.extend({
  <span class="function">author</span>: <span class="keyword">function</span>() {
    <span class="keyword">return</span> [<span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">salutation</span><span class="delimiter">'</span></span>), <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>)].join(<span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>);
  }.property(<span class="string"><span class="delimiter">'</span><span class="content">salutation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>)
});
</pre></td>
</tr></table>
</div></div>
<p>Because we have specified that it depends on both <code>salutation</code> and
<code>name</code>, changes to either of those two dependencies will invalidate the
property, which will trigger an update to the <code>{{author}}</code> property in
the DOM.</p>

<p>Imagine that in response to a user event, I do something like this:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>post.set(<span class="string"><span class="delimiter">'</span><span class="content">salutation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Mrs.</span><span class="delimiter">&quot;</span></span>);
post.set(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Katz</span><span class="delimiter">&quot;</span></span>);
</pre></td>
</tr></table>
</div></div>
<p>You might imagine that these changes will cause the computed property to
be invalidated twice, causing two updates to the DOM. And in fact, that
is exactly what would happen when using an event-driven framework.</p>

<p>In Ember, the computed property will only recompute once, and the DOM
will only update once.</p>

<p>How?</p>

<p>When you make a change to a property in Ember, it does not immediately
propagate that change. Instead, it invalidates any dependent properties
immediately, but queues the actual change to happen later.</p>

<p>Changing both the <code>salutation</code> and <code>name</code> properties invalidates the
<code>author</code> property twice, but the queue is smart enough to coalesce those
changes.</p>

<p>Once all of the event handlers for the current user event have finished,
Ember flushes the queue, propagating the changes downward. In this case,
that means that the invalidated <code>author</code> property will invalidate the
<code>{{author}}</code> in the DOM, which will make a single request to recompute
the information and update itself once.</p>

<p><strong>This mechanism is fundamental to Ember.</strong> In Ember, you should always
assume that the side-effects of a change you make will happen later. By
making that assumption, you allow Ember to coalesce repetitions of the
same side-effect into a single call.</p>

<p>In general, the goal of evented systems is to decouple the data
manipulation from the side effects produced by listeners, so you
shouldn&#39;t assume synchronous side effects even in a more event-focused
system. The fact that side effects don&#39;t propagate immediately in Ember
eliminates the temptation to cheat and accidentally couple code together
that should be separate.</p>
<h3 class='anchorable-toc' id='toc_side-effect-callbacks'>Side-Effect Callbacks</h3>
<p>Since you can&#39;t rely on synchronous side-effects, you may be wondering
how to make sure that certain actions happen at the right time.</p>

<p>For example, imagine that you have a view that contains a button, and
you want to use jQuery UI to style the button. Since a view&#39;s <code>append</code>
method, like everything else in Ember, defers its side-effects, how can
you execute the jQuery UI code at the right time?</p>

<p>The answer is lifecycle callbacks.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre>App.Button = Ember.View.extend({
  <span class="key">tagName</span>: <span class="string"><span class="delimiter">'</span><span class="content">button</span><span class="delimiter">'</span></span>,
  <span class="key">template</span>: Ember.Handlebars.compile(<span class="string"><span class="delimiter">&quot;</span><span class="content">{{view.title}}</span><span class="delimiter">&quot;</span></span>),

  <span class="function">didInsertElement</span>: <span class="keyword">function</span>() {
    <span class="local-variable">this</span>.<span class="predefined">$</span>().button();
  }
});

<span class="keyword">var</span> button = App.Button.create({
  <span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Hi jQuery UI!</span><span class="delimiter">&quot;</span></span>
}).appendTo(<span class="string"><span class="delimiter">'</span><span class="content">#something</span><span class="delimiter">'</span></span>);
</pre></td>
</tr></table>
</div></div>
<p>In this case, as soon as the button actually appears in the DOM, Ember
will trigger the <code>didInsertElement</code> callback, and you can do whatever
work you want.</p>

<p>The lifecycle callbacks approach has several benefits, even if we didn&#39;t
have to worry about deferred insertion.</p>

<p>First, relying on synchronous insertion means leaving it up to the
caller of <code>appendTo</code> to trigger any behavior that needs to run
immediately after appending. As your application grows, you may find
that you create the same view in many places, and now need to worry
about that concern everywhere.</p>

<p>The lifecycle callback eliminates the coupling between the code that
instantiates the view and its post-append behavior. In general, we find
that making it impossible to rely on synchronous side-effects leads to
better design in general.</p>

<p>Second, because everything about the lifecycle of a view is inside the
view itself, it is very easy for Ember to re-render parts of the DOM
on-demand.</p>

<p>For example, if this button was inside of an <code>{{#if}}</code> block, and Ember
needed to switch from the main branch to the <code>else</code> section, Ember can
easily instantiate the view and call the lifecycle callbacks.</p>

<p>Because Ember forces you to define a fully-defined view, it can take
control of creating and inserting views in appropriate situations.</p>

<p>This also means that all of the code for working with the DOM is in a
few sanctioned parts of your application, so Ember has more freedom in
the parts of the render process outside of these callbacks.</p>
<h3 class='anchorable-toc' id='toc_observers'>Observers</h3>
<p>In some rare cases, you will want to perform certain behavior after a
property&#39;s changes have propagated. As in the previous section, Ember
provides a mechanism to hook into the property change notifications.</p>

<p>Let&#39;s go back to our salutation example.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>App.PostController = Ember.ObjectController.extend({
  <span class="function">author</span>: <span class="keyword">function</span>() {
    <span class="keyword">return</span> [<span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">salutation</span><span class="delimiter">'</span></span>), <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>)].join(<span class="string"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>);
  }.property(<span class="string"><span class="delimiter">'</span><span class="content">salutation</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>)
});
</pre></td>
</tr></table>
</div></div>
<p>If we want to be notified when the author changes, we can register an
observer. Let&#39;s say that the view object wants to be notified:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre>App.PostView = Ember.View.extend({
  <span class="key">controller</span>: <span class="predefined-constant">null</span>,
  <span class="key">template</span>: Ember.Handlebars.compile(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;h1&gt;{{title}}&lt;/h1&gt;&lt;h2&gt;{{author}}&lt;/h2&gt;&lt;div&gt;{{body}}&lt;/div&gt;</span><span class="delimiter">&quot;</span></span>),

  <span class="function">authorDidChange</span>: <span class="keyword">function</span>() {
    alert(<span class="string"><span class="delimiter">&quot;</span><span class="content">New author name: </span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">controller.author</span><span class="delimiter">'</span></span>));
  }.observes(<span class="string"><span class="delimiter">'</span><span class="content">controller.author</span><span class="delimiter">'</span></span>)
});
</pre></td>
</tr></table>
</div></div>
<p>Ember triggers observers after it successfully propagates the change. In
this case, that means that Ember will only call the <code>authorDidChange</code>
callback once in response to each user event, even if both of <code>salutation</code>
and <code>name</code> changed.</p>

<p>This gives you the benefits of executing code after the property has
changed, without forcing all property changes to be synchronous. This
basically means that if you need to do some manual work in response to a
change in a computed property, you get the same coalescing benefits as
Ember&#39;s binding system.</p>

<p>Finally, you can also register observers manually, outside of an object
definition:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>App.PostView = Ember.View.extend({
  <span class="key">controller</span>: <span class="predefined-constant">null</span>,
  <span class="key">template</span>: Ember.Handlebars.compile(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;h1&gt;{{title}}&lt;/h1&gt;&lt;h2&gt;{{author}}&lt;/h2&gt;&lt;div&gt;{{body}}&lt;/div&gt;</span><span class="delimiter">&quot;</span></span>),

  <span class="function">didInsertElement</span>: <span class="keyword">function</span>() {
    <span class="local-variable">this</span>.addObserver(<span class="string"><span class="delimiter">'</span><span class="content">controller.name</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
      alert(<span class="string"><span class="delimiter">&quot;</span><span class="content">New author name: </span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">controller.author</span><span class="delimiter">'</span></span>));
    });
  }
});
</pre></td>
</tr></table>
</div></div>
<p>However, when you use the object definition syntax, Ember will
automatically tear down the observers when the object is destroyed. For
example, if an <code>{{#if}}</code> statement changes from truthy to falsy, Ember
destroys all of the views defined inside the block. As part of that
process, Ember also disconnects all bindings and inline observers.</p>

<p>If you define an observer manually, you need to make sure you remove it.
In general, you will want to remove observers in the opposite callback
to when you created it. In this case, you will want to remove the
callback in <code>willDestroyElement</code>.</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
</pre></td>
  <td class="code"><pre>App.PostView = Ember.View.extend({
  <span class="key">controller</span>: <span class="predefined-constant">null</span>,
  <span class="key">template</span>: Ember.Handlebars.compile(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;h1&gt;{{title}}&lt;/h1&gt;&lt;h2&gt;{{author}}&lt;/h2&gt;&lt;div&gt;{{body}}&lt;/div&gt;</span><span class="delimiter">&quot;</span></span>),

  <span class="function">didInsertElement</span>: <span class="keyword">function</span>() {
    <span class="local-variable">this</span>.addObserver(<span class="string"><span class="delimiter">'</span><span class="content">controller.name</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
      alert(<span class="string"><span class="delimiter">&quot;</span><span class="content">New author name: </span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">controller.author</span><span class="delimiter">'</span></span>));
    });
  },

  <span class="function">willDestroyElement</span>: <span class="keyword">function</span>() {
    <span class="local-variable">this</span>.removeObserver(<span class="string"><span class="delimiter">'</span><span class="content">controller.name</span><span class="delimiter">'</span></span>);
  }
});
</pre></td>
</tr></table>
</div></div>
<p>If you added the observer in the <code>init</code> method, you would want to tear
it down in the <code>willDestroy</code> callback.</p>

<p>In general, you will very rarely want to register a manual observer in
this way. Because of the memory management guarantees, we strongly
recommend that you define your observers as part of the object
definition if possible.</p>
<h3 class='anchorable-toc' id='toc_routing'>Routing</h3>
<p>There&#39;s an entire page dedicated to managing async within the Ember
Router: <a href="/emberjs/guides/routing/asynchronous-routing">Asynchronous Routing</a></p>

    
      <footer>
        
          <a class="previous-guide" href="/emberjs/guides/understanding-ember/the-view-layer">
            ← The View Layer
          </a>
         
        <a class="next-guide" href="/emberjs/guides/understanding-ember/keeping-templates-up-to-date">
          Keeping Templates Up-to-Date →
        </a>
      
      </footer>
      
  </div>

      </div>
    </div>

    <div id="footer">
      <div id="footer-wrapper">
        <div class="info">
          Copyright 2014 <a href="http://tilde.io">Tilde Inc.</a><br>
          Design by <a href="http://www.heropixel.com">HeroPixel</a></br>
          <a href="/emberjs/team">Core Team</a> | <a href="/emberjs/sponsors">Project Sponsors</a>
        </div>
        <div class="statement">Ember.js is free, open source and always will be.</div>
        <div class="links">
          <a class="twitter" href="http://twitter.com/emberjs">
            <i class="icon-twitter"></i><span>Twitter</span>
          </a>
          <a class="github" href="https://github.com/emberjs/ember.js">
            <i class="icon-github"></i><span>GitHub</span>
          </a>
          <a class="googleplus" href="https://plus.google.com/communities/106387049790387471205">
            <i class="icon-gplus"></i><span>Google+</span>
          </a>
        </div>
      </div>
    </div>
  </body>
</html>
