/*!
 * zeroclipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2013 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://zeroclipboard.github.io/ZeroClipboard/
 * v1.2.0-beta.3
 */
(function(){"use strict";var e=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),t=function(t,n){var r,i,s,o,u,a;window.getComputedStyle?r=window.getComputedStyle(t,null).getPropertyValue(n):(i=e(n),t.currentStyle?r=t.currentStyle[i]:r=t.style[i]);if(r==="auto"&&n==="cursor"){s=t.tagName.toLowerCase(),o=["a"];for(u=0,a=o.length;u<a;u++)if(s===o[u])return"pointer"}return r},n=function(e){if(!d.prototype._singleton)return;e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),d.prototype._singleton.setCurrent(t)},r=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},i=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},s=function(e,t){if(e.addClass)return e.addClass(t),e;if(t&&typeof t=="string"){var n=(t||"").split(/\s+/);if(e.nodeType===1)if(!e.className)e.className=t;else{var r=" "+e.className+" ",i=e.className;for(var s=0,o=n.length;s<o;s++)r.indexOf(" "+n[s]+" ")<0&&(i+=" "+n[s]);e.className=i.replace(/^\s+|\s+$/g,"")}}return e},o=function(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&typeof t=="string"||t===undefined){var n=(t||"").split(/\s+/);if(e.nodeType===1&&e.className)if(t){var r=(" "+e.className+" ").replace(/[\n\t]/g," ");for(var i=0,s=n.length;i<s;i++)r=r.replace(" "+n[i]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},u=function(){var e,t,n,r=1;return typeof document.body.getBoundingClientRect=="function"&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,r=Math.round(t/n*100)/100),r},a=function(e){var n={left:0,top:0,width:0,height:0,zIndex:999999999},r=t(e,"z-index");r&&r!=="auto"&&(n.zIndex=parseInt(r,10));if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),s,o,a;"pageXOffset"in window&&"pageYOffset"in window?(s=window.pageXOffset,o=window.pageYOffset):(a=u(),s=Math.round(document.documentElement.scrollLeft/a),o=Math.round(document.documentElement.scrollTop/a));var f=document.documentElement.clientLeft||0,l=document.documentElement.clientTop||0;n.left=i.left+s-f,n.top=i.top+o-l,n.width="width"in i?i.width:i.right-i.left,n.height="height"in i?i.height:i.bottom-i.top}return n},f=function(e){var t=d.prototype._singleton;return t.options.useNoCache?(e.indexOf("?")>=0?"&nocache=":"?nocache=")+(new Date).getTime():""},l=function(e){var t=[];if(e.trustedDomains){var n;typeof e.trustedDomains=="string"&&e.trustedDomains?n=[e.trustedDomains]:"length"in e.trustedDomains&&(n=e.trustedDomains),t.push("trustedDomain="+encodeURIComponent(n.join(",")))}return typeof e.amdModuleId=="string"&&e.amdModuleId&&t.push("amdModuleId="+encodeURIComponent(e.amdModuleId)),typeof e.cjsModuleId=="string"&&e.cjsModuleId&&t.push("cjsModuleId="+encodeURIComponent(e.cjsModuleId)),t.join("&")},c=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},h=function(e){if(typeof e=="string")throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},p=function(e,t,n,r,i){i?window.setTimeout(function(){e.call(t,n,r)},0):e.call(t,n,r)},d=function(e,t){e&&(d.prototype._singleton||this).glue(e);if(d.prototype._singleton)return d.prototype._singleton;d.prototype._singleton=this,this.options={};for(var n in g)this.options[n]=g[n];for(var r in t)this.options[r]=t[r];this.handlers={},d.detectFlashSupport()&&w()},v,m=[];d.prototype.setCurrent=function(e){v=e,this.reposition(),e.getAttribute("title")&&this.setTitle(e.getAttribute("title")),this.setHandCursor(t(e,"cursor")==="pointer")},d.prototype.setText=function(e){e&&e!==""&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e))},d.prototype.setTitle=function(e){e&&e!==""&&this.htmlBridge.setAttribute("title",e)},d.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},d.prototype.setHandCursor=function(e){this.ready()&&this.flashBridge.setHandCursor(e)},d.version="1.2.0-beta.3";var g={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0};d.setDefaults=function(e){for(var t in e)g[t]=e[t]},d.destroy=function(){d.prototype._singleton.unglue(m);var e=d.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete d.prototype._singleton},d.detectFlashSupport=function(){var e=!1;if(typeof ActiveXObject=="function")try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}return!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0),e};var y=null,b=null,w=function(){var e=d.prototype._singleton,t=document.getElementById("global-zeroclipboard-html-bridge");if(!t){var n={};for(var r in e.options)n[r]=e.options[r];n.amdModuleId=y,n.cjsModuleId=b;var i=l(n),s='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+f(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+i+'"/>         <embed src="'+e.options.moviePath+f(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+i+'"           scale="exactfit">         </embed>       </object>';t=document.createElement("div"),t.id="global-zeroclipboard-html-bridge",t.setAttribute("class","global-zeroclipboard-container"),t.setAttribute("data-clipboard-ready",!1),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="15px",t.style.height="15px",t.style.zIndex="9999",t.innerHTML=s,document.body.appendChild(t)}e.htmlBridge=t,e.flashBridge=document["global-zeroclipboard-flash-bridge"]||t.children[0].lastElementChild};d.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),o(v,this.options.activeClass),v=null,this.options.text=null},d.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return e==="true"||e===!0},d.prototype.reposition=function(){if(!v)return!1;var e=a(v);this.htmlBridge.style.top=e.top+"px",this.htmlBridge.style.left=e.left+"px",this.htmlBridge.style.width=e.width+"px",this.htmlBridge.style.height=e.height+"px",this.htmlBridge.style.zIndex=e.zIndex+1,this.setSize(e.width,e.height)},d.dispatch=function(e,t){d.prototype._singleton.receiveEvent(e,t)},d.prototype.on=function(e,t){var n=e.toString().split(/\s/g);for(var r=0;r<n.length;r++)e=n[r].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!d.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},d.prototype.addEventListener=d.prototype.on,d.prototype.off=function(e,t){var n=e.toString().split(/\s/g);for(var r=0;r<n.length;r++){e=n[r].toLowerCase().replace(/^on/,"");for(var i in this.handlers)i===e&&this.handlers[i]===t&&delete this.handlers[i]}},d.prototype.removeEventListener=d.prototype.off,d.prototype.receiveEvent=function(e,t){e=e.toString().toLowerCase().replace(/^on/,"");var n=v,r=!0;switch(e){case"load":if(t&&parseFloat(t.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:t.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":s(n,this.options.hoverClass);break;case"mouseout":o(n,this.options.hoverClass),this.resetBridge();break;case"mousedown":s(n,this.options.activeClass);break;case"mouseup":o(n,this.options.activeClass);break;case"datarequested":var i=n.getAttribute("data-clipboard-target"),u=i?document.getElementById(i):null;if(u){var a=u.value||u.textContent||u.innerText;a&&this.setText(a)}else{var f=n.getAttribute("data-clipboard-text");f&&this.setText(f)}r=!1;break;case"complete":this.options.text=null}if(this.handlers[e]){var l=this.handlers[e];typeof l=="string"&&typeof window[l]=="function"&&(l=window[l]),typeof l=="function"&&p(l,n,this,t,r)}},d.prototype.glue=function(e){e=h(e);for(var t=0;t<e.length;t++)c(e[t],m)==-1&&(m.push(e[t]),r(e[t],"mouseover",n))},d.prototype.unglue=function(e){e=h(e);for(var t=0;t<e.length;t++){i(e[t],"mouseover",n);var r=c(e[t],m);r!=-1&&m.splice(r,1)}},typeof define=="function"&&define.amd?define(["require","exports","module"],function(e,t,n){return y=n&&n.id||null,d}):typeof module!="undefined"&&module?(b=module.id||null,module.exports=d):window.ZeroClipboard=d})();